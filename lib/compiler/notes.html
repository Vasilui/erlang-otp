<HTML>
<HEAD>
  <TITLE>Compiler Release Notes</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF">

<CENTER><H1>Compiler Release Notes</H1></CENTER>

<HTML>
<HEAD>
  <TITLE>Compiler Release Notes</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF">

<H2>Compiler 3.0.1.2</H2>
<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
The compiler would sometimes reorder bit syntax clauses
causing them to be execute in the wrong order.
This has been corrected.
<br>Own Id: OTP-3748<br>
Aux Id: Seq 4954


<LI>
Modules containing long literals string concatenated with
variables would take long time to compile and the beam module
would be unecesserialy large. Both problems have been
corrected.
<br>Own Id: OTP-3831<br>
Aux Id: Seq 5085


<LI>
By default, debug information is no longer included in
beam modules. Use the compiler option <CODE>debug_info</CODE>
to include debug information.
<br>Own Id: OTP-3885


</UL>

<H2>Compiler 3.0.1</H2>
<H3>Improvements and new features</H3>

<UL>

<LI>
Several minor compiler bugs corncerning the bit syntax
were corrected.
<br>Own Id: OTP-3707


</UL>

<H2>Compiler 3.0</H2>
<H3>Known problems</H3>

<UL>

<LI>
Use of recursively defined records causes the compiler to
crash instead of reporting an error.
<br>Own Id: OTP-2677


</UL>
<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
The Erlang compiler builds lists and tuples in a smarter
way than previous compilers, meaning that literal lists and tuples
practically any size can now be built.
<br>Own Id: OTP-2388<br>
Aux Id: seq 821


<LI>
Using a literal atom in a call to atom_to_list/1 resulted
in a compiled module that could not be loaded. This has been corrected.
<br>Own Id: OTP-3438


</UL>
<H3>Improvements and new features</H3>

<UL>

<LI>
We have made several changes to the garbage collector
and internal memory allocation routines to reduce
memory consumption and memory fragmentation.
Also, the compiler now makes sure that references
to any data that will not be used again will be killed,
so that the garbage collector can discard it as soon
as possible.
(Thanks to Claes Wickstrom at Bluetail who suggested
most of the changes to the garbage collector.)
<br>Own Id: OTP-2375<br>
Aux Id: seq 816, HA81951


<LI>
It is now allowed to use an expression within a pattern,
if the expression uses only numeric or bitwise operators,
and can
be evaluated to a constant at compile-time. E.g.,
<CODE>
case X of
{1+2, T} -> T
end.
</CODE>
<br>Own Id: OTP-3144<br>
Aux Id: OTP-3143


<LI>
There now exists syntax for constructing and matching
binaries. For more infomation, see Extensions to Erlang.
Also, the handling of small binaries (up to 64 bytes) has
been optimised, as well as splitting of binaries.
<br>Own Id: OTP-3376


<LI>
The construction <CODE>??Arg</CODE> for an argument to a macro
expands to a string containing the tokens of the argument,
similar to the <CODE>#arg</CODE> stringifying construction in C.
<br>Own Id: OTP-3425


<LI>
The compiler now supports inlining within a module
(see the compiler documentation). Numerous known
problems and limitations have been corrected, and
the optimisation is better (for instance, tuples
used in cases for grouping are no longer built).
The earlier compiler versions v1 (R5) and v2 (R6)
have been discontinued because there are no longer
any reason to use them.
<br>Own Id: OTP-3672


</UL>

There are also release notes for 
<A HREF="notes_history.html">older versions</A>.

</body>
</html>
