<HTML>
<HEAD>
<TITLE>ASN1 Release Notes (Old)</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<BLOCKQUOTE>
<P>This document describes the changes made to old versions of the <CODE>asn1</CODE> application.



<h2>Asn1 1.3.3.1</h2>

<h3>Fixed errors and malfunctions</h3>

<ul>

  <li>
  Proper length encoding and padding implemented for a <c>BIT STRING</c> with 
  NamedNumberList and size constraint as value range. This functionality 
  didn't work in the rare occasion when the NamedNumberList is shorter
  than the lower bound of the constraint.As in this example:
  <c>TestS ::= BIT STRING {a (0),b (1)} (SIZE (3..8))</c> <br>
  (Own Id: OTP-4353)<p>
  </li>

  <li>
    Bug in compiler, when an <c>OBJECT IDENTIFIER</c> value consisting of 
    two identifiers (Defined values or Name form identifiers) was falsely
    interpreted causing a compiling error is now corrected.<br>
     (Own Id: OTP-4354)<p>
  </li>

  <li>
  Internal error in check phase that caused crash on 
  <c>ObjectClassFieldType</c> in ber_bin is corrected.<br>
  (Own Id: OTP-4390)<p>
  </li>
  
  <li>
  Tags for open types are handled according to <c>x.680 30.6c</c>, i.e.
  open types shall not be tagged <c>IMPLICIT.</c><br>
  (Own Id: OTP-4395)<br>
  (Aux Id: OTP-4390)<p>
  </li>
</ul>



<h2>Asn1 1.3.3</h2>

<h3>Fixed errors and malfunctions</h3>

<ul>

  <li>
    Now gives the compiler an apropriate error report when exported 
    undefined types are detected.<br>
    (Own Id: OTP-4129)<p>
  </li>

  <li>
    The type <code>ObjectDescriptor</code> is now supported, previously the
    implementation of encode/decode for this rarely used type was
    incomplete.<br>
    (Own Id: OTP-4161)<br>
    (Aux Id: seq7165)<p>
  </li>

  <li>
    In case of per and compact_bit_string the rightmost byte were erronous
    truncated when the rightmost bits of that byte were zeros. This is now
    corrected.<br>
    (Own Id: OTP-4200)<p>
  </li>

  <li>
    Bad match of returnvalue from decode_length in skipvalue/3 has now been
    fixed.<br>
    (Own Id: OTP-4232)<p>
  </li>

  <li>
    Now is decode of ENUMERATED handled correctly, when tagged EXPLICIT.<br>
    (Own Id: OTP-4234)<p>
  </li>

  <li>
    The compiler now parses and handles the ValueFromObject construct.<br>
    (Own Id: OTP-4242)<p>
  </li>

  <li>
    Now does the compiler handle the case when the object set in simple
    table and componentrelation constraints is of a CLASS without a UNIQUE
    field. In this case is the octets, which is assumed to be encoded,
    encoded as an open type.<br>
    (Own Id: OTP-4248)<br>
    (Aux Id: OTP-4242)<p>
  </li>

  <li>
  Compiler handles objects in AdditionalElementSetSpec in ObjectSetSpec,
  i.e. the objects that are referred to after the ellipses in an object set.<br>
  (Own Id: OTP-4275)<br>
  </li>

  <li>
  Now are values with a component of type CHOICE encoded with indefinite 
  length correctly decoded.<br>
  (Own Id: OTP-4358)<br>
  </li>
</ul>


<!--- ----------------------------------------------------------------- --->

<h3>Improvements and new features</h3>

<ul>

  <li>
    The language constructs (from the old 1988 standard) <code>ANY</code>
    and <code>ANY DEFINED BY</code> are now implemented.<br>
    (Own Id: OTP-2741)<br>
    (Aux Id: seq 1188)<p>
  </li>
  
  <li>
  Now it is checked in run-time if a <c>OBJECT IDENTIFIER</c> value is unvalid<br>
  (Own Id: OTP-4235)<br>
  </li>
  
  
  <li>
    The ASN.1 types EXTERNAL,EMBEDDED PDV and CHARACTER STRING now have full support in the compiler.<br>
    (Own Id: OTP-4247)<br>
    </li>

    <li>
    A driver in C does the final job (complete) of the PER encoding when 
    files are compiled with <c>per_bin</c> and <c>optimize</c> flags. 
    It gives significant faster encoding for PER.
    (Own Id: OTP-4355)<br>
    </li>
    
    <li>
    Encode and decode of PER encoding has been made faster by moving 
    analysis done in run-time to compile-time. These optimizations are 
    available by compiling ASN.1 files with options <c>per_bin</c> and
    <c>optimize</c>.<br>
    (Own Id: OTP-4381)<br>
    (Aux Id: OTP-4355)<p>
</ul>



<h2>Asn1 1.3.2</h2>

<h3>Fixed errors and malfunctions</h3>

<ul>

  <li>
    Now does the compiler check values (including referenced values), and
    formats the value so it is suitable to use as input to encoding
    functions.<br>
    (Own Id: OTP-3277)<br>
    (Aux Id: OTP-4103)<p>
  </li>


  <li>
    Unnecessary external function calls in generated code are now generated
    as internal function calls.<br>
    (Own Id: OTP-4073)<p>
  </li>

 

</ul>


<h3>Improvements and new features</h3>

<ul>
  <li>
    Now is Information Objects supported in BER encoding.<br>
    (Own Id: OTP-3980)<br>
    (Aux Id: OTP-3979 OTP-3978)<p>
  </li>

  <li>
    PER: A new option <code>per_bin</code> is now supported. When used the
    generated encode/decode functions use binaries and the bit syntax to
    get better performance than the old <code>per</code> variant which used
    lists. All values input to encode and returned from decode are
    compatible between <code>per</code> and <code>per_bin</code> except for
    open types which are represented as binaries with per_bin and octet
    lists with per. We recommend that you use per_bin instead of per from
    now on, the use of binaries will be the default in coming versions and
    all improvements and optimizations for PER will be concentrated to that
    solution.<br>
    (Own Id: OTP-4094)<p>
  </li>

  <li>
    Support for DER implemented. Used by flag +der when compiling. Include
    the full BER encoding plus: sorting of SET components, sorting of
    encoded elements in SET OF, full check of default values in SET and
    SEQUENCE. See new documentation on DER in user_guide sections 1.3.1;
    1.4.11; 1.4.12; 1.4.14; 1.4.16 and 1.10, in the reference manual for
    asn1ct.<br>
    (Own Id: OTP-4103)<p>
  </li>

</ul>

<H2>Asn1 1.3.1</H2>
<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
Do not generate record in .hrl file for SET types
<br>Own Id: OTP-4025


<LI>
Fixed internal error when using BIT STRINGs with Named Number List in combination with <CODE>compact_bit_string</CODE> and <CODE>ber_bin</CODE> options.
<br>Own Id: OTP-4026<br>
Aux Id: OTP-3982

<LI>
The atom 'com' can now be used in ENUMERATED as an EnumerationItem.
<br>Own Id: OTP-4037<br>
Aux Id: Seq 7036


<LI>
ber: Now it is possible (again) to encode data format "{Type,Value}" in a SEQUENCE OF  RequestParameter, when RequestParameter is of type ENUMERATED. The {Type,Value}
notation is not recommended for use, it is redundant and exist only for very ancient backwards compatibility reasons. The "feature" might be removed in forthcoming versions.
<br>Own Id: OTP-4057<br>
Aux Id: Seq 7066


<LI>
A bug in the parser, that caused failure on COMPONENTS OF is now removed.
<br>Own Id: OTP-4058


</UL>



<H2>Asn1 1.3</H2>
<H3>Known problems</H3>

<UL>


<LI>
The compiler will now check that a value referenced by name
does exist.
<br>Own Id: OTP-3277


<LI>
BER:Decode of a type T ::= SEQUENCE OF C fails if C is encoded with indefinite length.
This is know corrected.
<br>Own Id: OTP-3811<br>
Aux Id: seq5040

</UL>
<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
The new parser handles imports when one import ends with FROM, a modulename and a reference to a objectidentifier followed by imports from other modules.
<br>Own Id: OTP-3463


<LI>
The compiler did not check that a name mentioned as EXPORTED
actually is defined within the module.
This is now corrected.
<br>Own Id: OTP-3659


<LI>
Removed bug caused by use of nested indefinite length
<br>Own Id: OTP-3994


</UL>

<H3>Improvements and new features</H3>

<UL>

  <li>
    Now supporting most common use of parameterization according to X.683<br>
    (Own Id: OTP-3978)<p>
  </li>

<LI>
PER: Now supporting most common use of Information Objects according to X.681. A new parser has been implemented. The error messages due to syntax errors are slightly different than previous. TableConstraint part of X.682 now also supported.
<br>Own Id: OTP-3979


<LI>
New compiler option added: <CODE>ber_bin</CODE>. The compiler generates code with new bit syntax. Run time functions uses bit syntax when feasible. Higher encoding/decoding performance in most cases. Se also comments for Asn1 1.2.9.3.
<br>Own Id: OTP-3981


<LI>
A more compact format of BIT STRING in Erlang is now available by use of the compiler option <CODE>compact_bit_string</CODE>. It is much faster when large BIT STRINGs are used.
<br>Own Id: OTP-3982


<LI>
Now possible to merge many ASN.1 input files to one Erlang file by use of a configuration file that lists the ASN.1 files.
<br>Own Id: OTP-3983


<LI>
New documentation in <b>User's Guide</b> in section:<BR>3.1: New compile-time functions and options are described.<BR>4.6: New compact format of BIT STRING is described.<BR>4.8: Additional comments on character strings.<BR>7: New section describing ASN.1 Information Objects.<BR>8: New section describing Parameterization.<BR><b>Reference Manual/asn1ct</b> New compile options are described.
<br>Own Id: OTP-3984<br>
Aux Id: OTP-3978, OTP-3979, OTP-3981, OTP-3982, OTP-3983


<LI>
Added the functionality to invoke ASN1Mod:encode (and decode).
<br>Own Id: OTP-3985


<LI>
Performance improvements by removing not necessary use of apply when calling asn1rt:encode. Also other general improvements.
<br>Own Id: OTP-3988

</UL>



<H2>Asn1 1.2.9.6</H2>
<H3>Known problems</H3>

<UL>

<LI>
The compiler does not check that an exported name actually exists in the ASN.1 module.
<br>Own Id: OTP-3659


<LI>
The compiler does not check that a value referenced by name does exist.
<br>Own Id: OTP-3277



<LI>
BER: The compiler does not take the extensions into account when checking if
the tags are unique in a SEQUENCE or SET.
<br>Own Id: OTP-3304

</UL>

<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
PER: Trailing zeroes in a BIT STRING declared without named bits
 should not be removed in the encodings.
<br>Own Id: OTP-3830
</UL>

<H2>Asn1 1.2.9.5</H2>
<H3>Known problems</H3>
<P>Same as for 1.2.9.3.</P>

<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
PER: Constraints are not propagated when types are
referring to each other. Example:
<code> 
                TBCD-STRING ::= OCTET STRING
 
                LAI ::= TBCD-STRING (SIZE(3))
</code> 
                The size constraint is not passed on during encode,decode
                resulting in wrong encoding for PER , it is
                coded with a length determinant which should not be there
                when the length is fixed. For BER this does not matter because the constraints does
                not affect the encodings.
<br>Own Id: OTP-3713
                
<LI>
 The generated code gets wrong if there are several ENUMERATED fields in a SEQUENCE or SET, this is now corrected.
<br>Own Id: OTP-3796

<LI>
BER:Decode of a type T ::= SEQUENCE OF C fails if C is encoded with indefinite length.
                This is know corrected.
<br>Own Id: OTP-3811
</UL>

<H2>Asn1 1.2.9.3</H2>
<H3>Known problems</H3>

<UL>

<LI>
The compiler does not check that an exported name actually exists in the ASN.1 module.
<br>Own Id: OTP-3659


<LI>
The compiler does not check that a value referenced by name does exist.
<br>Own Id: OTP-3277



<LI>
BER: The compiler does not take the extensions into account when checking if
the tags are unique in a SEQUENCE or SET.
<br>Own Id: OTP-3304

</UL>

<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
This version supports soft upgrade from versions 1.2.6 1.2.7.

<LI>
In an ENUMERATED type like this:<br>
		T ::= ENUMERATED { blue, green}<br>
		The symbols was encoded/decoded with the wrong values, i.e in
		reverse order. This is now corrected.
<br>Own Id: OTP-3700

<LI>
PER: OCTET STRING with Size constrained to a single value i.e fixed size
		was treated wrong during encode and decode. This is now corrected.
<br>Own Id: OTP-3701
</UL>

<H3>Improvements and new features</H3>

<UL>
<LI>
There is now a new compiler option <code>ber_bin</code> available that can be used to 
generate encode/decode functions for BER that uses the new "bit-syntax" to
make the functions more efficient. The <code>ber_bin</code> option is used
as an alternative to the <code>ber</code> and <code>per</code> options.
<p>
The encode function then produces a
possibly nested list of binaries and integer lists. The decode function does 
in this case require a single binary as input instead of a list.
The modules generated with this option require that you have an R7A  or later
system, otherwise they will not compile and the runtime module asn1rt_ber_bin
can not be executed.
<p>
The ber_bin option is not officially supported in this version (will be
in a later version) but is provided for those who want to try it. 
It should be significantly faster at decode and is slightly faster at encode.
Exactly how performance differs between this binary approach and the
list approach depends highly on the type of input.
Another thing worth noting is that both approaches still have a lot of
solutions in common which can be improved a lot to gain even better 
performance. 
</UL>

<H2>Asn1 1.2.9.2</H2>

<H3>Fixed errors and malfunctions</H3>

<UL>


<LI>
BER: Encode/decode of extension components did not work properly. This is now corrected.
<br>Own Id: OTP-3395
<br>Aux Id: 

PER:The encode/decode of NULL as an open type has been corrected. An open type must always have a length of at least 1 byte even if the contained 
value (e.g NULL) encodes to nothing.
<br>Own Id: OTP-3496
<br>Aux Id: 

<LI>
BER:In the current implementation extension components of a SEQUENCE are required
to be present when they are specified as mandatory. This is an error, all extension
components are "optional" even if they are not specified to have the OPTIONAL or
DEFAULT property. This is now corrected.
<br>Own Id: OTP-3278


</UL>

<H3>Improvements and new features</H3>

<UL>
<LI>
The ASN.1 language feature <CODE>COMPONENTS OF</CODE> is now implemented.
<br>Own Id: OTP-2515

<LI>
The encoding and decoding of ENUMERATED and
INTEGER with NamedNumbers is made more efficient and thus
faster in runtime.
<br>Own Id: OTP-3464
<br>Aux Id:

<LI>
Added support for encode/decode of open type which is
constrained to a specific type. Previously the value of
an open type had to be a list of  octets, but now the Erlang
representation of the specific type used in the constraint
is used both as input to encode and as output from decode.
<br>Own Id: OTP-3569
<br>Aux Id: 

<LI>
PER: GeneralString, GraphicalString etc. i.e all strings
that are not so called "known-multiplier character
string types" are now supported by the runtime 
encode/decode functions.
<br>Own Id: OTP-3573
<br>Aux Id:

</UL>



<H2>Asn1 1.2.6</H2>
<H3>Known problems</H3>

<UL>

<LI>
The ASN.1 language feature <CODE>COMPONENTS OF</CODE> is not implemented.
<br>Own Id: OTP-2515


<LI>
The compiler does not check that a value referenced by name does exist.
<br>Own Id: OTP-3277


<LI>
BER:In the current implementation extension components of a SEQUENCE are required
to be present when they are specified as mandatory. This is an error, all extension
components are "optional" even if they are not specified to have the OPTIONAL or
DEFAULT property.
<br>Own Id: OTP-3278


<LI>
BER: The compiler does not take the extensions into account when checking if
the tags are unique in a SEQUENCE or SET.
<br>Own Id: OTP-3304


</UL>

<H3>Fixed errors and malfunctions</H3>

<UL>
<LI>
This version supports soft upgrade from versions 1.1.1, 1.1.5 and 1.1.6.
Two new runtime modules <code>asn1rt_ber_v1</code> and 
<code>asn1rt_per_v1</code> are delivered together with the old ones. This makes
it possible to continue running applications with modules generated with the
previous version of the asn1 compiler while modules generated by this version
will use the new runtime modules. Note that it is only advice-able to continue
running old generates if they are working perfectly and have no need 
for the corrections made in this version of the asn1 application.


<LI>
BER: SEQUENCEs encoded with indefinite length was not correctly decoded.
		This in now corrected.
<br>Own Id: OTP-3352
<br>Aux Id: Seq 4100

</UL>

<H2>Asn1 1.2.4</H2>
<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
The compiler now  detects multiple definitions of values and types and reports this as
an error. Previously this was detected when the generated Erlang module was compiled.
<br>Own Id: OTP-3105


<LI>
BER: An error regarding encoding of <CODE>ENUMERATED</CODE> present in asn1-1.1.1 
is corrected. The new version 1.1.2 of asn1 containing this correction is 
delivered as a "patch".
<br>Own Id: OTP-3169


<LI>
BER: Decoding of <CODE>SEQUENCE OF</CODE> and <CODE>SET OF</CODE> with indefinite length is corrected.
The correction was first delivered in version 1.1.2.
<br>Own Id: OTP-3170


<LI>
BER: Encoding and decoding of <CODE>ENUMERATED</CODE> 
with extensionmark
"..." did not work (crashed with a runtime error). This
has now been corrected. If an unknown enumerated value is
decoded (for an extensible enumerated type) 
it is returned as <CODE>{asn1_enum,Value}</CODE> where
<CODE>Value</CODE> is an integer. Enumerated values in this format
are also accepted by the encoder.  
ASN.1 modules containing 
<CODE>ENUMERATED</CODE> with extensionmark should be 
recompiled with the corrected
version of the compiler. The BER runtime functions are also
corrected.
Note that this correction has already been delivered as a
bugfix for R4B (OTP-2951).
<br>Own Id: OTP-3202<br>
Aux Id: Seq3745


<LI>
BER: The primitive/constructed bit in the tag byte of an encoding
is not correct when it comes to user defined tags.
For example in <CODE> T ::= [2] SEQUENCE { a BOOLEAN} </CODE>
the tag 2 does not get the constructed bit set which it should.
This is now corrected.
<br>Own Id: OTP-3241


<LI>
The decoder can now detect if there are unexpected bytes 
remaining when all components of a sequence are decoded.
The decoder will then return <CODE>{error,{asn1{unexpected,Bytes}}}</CODE>
<br>Own Id: OTP-3270


<LI>
Values of type <CODE>OBJECT IDENTIFIER</CODE> was sometimes returned as an Erlang list
(ASN.1 constants) and  sometimes as a tuple (from the decode functions). This is now
changed so that <CODE>OBJECT IDENTIFIER</CODE> values always are represented as an Erlang
tuple.
<br>Own Id: OTP-3280


<LI>
PER:The encode/decode functions could not handle integers with 
a range greater than 16#7ffffff. This limit is now removed.
<br>Own Id: OTP-3287


<LI>
PER: The encoding/decoding of the length for a SET OF/SEQUENCE OF
was wrong if there was a size constraint. This is now corrected.
<br>Own Id: OTP-3291


<LI>
PER: Encoding of a constrained INTEGER (range > 16 k) was wrong for
the value 0. This is now corrected.
<br>Own Id: OTP-3306


</UL>
<H3>Improvements and new features</H3>

<UL>

<LI>
The ASN.1 module name and the filename where the ASN.1 specification resides must match each other (has always been the case). This is now checked by the compiler. The check requires that the names match in a case or case insensitive way depending on the characteristics for the current system.
<br>Own Id: OTP-1843


<LI>
PER: Encode/decode of an extension value (i.e not within the root set) for
<CODE>ENUMERATED</CODE> did not work properly. This is now corrected.
If an unknown enumerated value is
decoded (for an extensible enumerated type) 
it is returned as <CODE>{asn1_enum,Value}</CODE> where
<CODE>Value</CODE> is an integer. Enumerated values in this format
are also accepted by the encoder (if the value is >= the number of known 
extension values).
<br>Own Id: OTP-2930


<LI>
Unnecessary printouts from the compiler are removed.
The compiler version and the compiler options are now
printed to stdout.
<br>Own Id: OTP-3276


<LI>
In order to better suite the use of ASN.1 in embedded systems only 
the modules needed in runtime are now listed in the <CODE>.app</CODE> file.
<br>Own Id: OTP-3279


<LI>
The compiler now supports extensionmarker in constraint specifications.
Example: <CODE>INTEGER (0..10, ...)</CODE>
In previous version this was reported as a syntax error.
<br>Own Id: OTP-3281


<LI>
A very limited part of ITU-T recommendation X.681 
Abstract Syntax Notation One (ASN.1): Information
object specification is now implemented. Specifically 	
TYPE IDENTIFIER is reqognized by the compiler.
<br>Own Id: OTP-3325


<LI>
Parameterization of ASN.1 specifications (ITU-T X.683) is now
supported to a limited extent.
<br>Own Id: OTP-3326


</UL>

<H2>Asn1 1.1.3.1</H2>
<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
BER Encoding and decoding of <CODE>ENUMERATED</CODE> 
with extensionmark
"..." did not work (crashed with a runtime error). This
has now been corrected. If an unknown enumerated value is
decoded (for an extensible enumerated type) 
it is returned as <CODE>{asn1_enum,Value}</CODE> where
<CODE>Value</CODE> is an integer. Enumerated values in this format
are also accepted by the encoder.  
ASN.1 modules containing 
<CODE>ENUMERATED</CODE> with extensionmark should be 
recompiled with the corrected
version of the compiler. The BER runtime functions are also
corrected.
Note that this correction has already been delivered as a
bugfix for R4B (OTP-2951).
<br>Own Id: OTP-3202<br>
Aux Id: Seq3745


</UL>

<H2>Asn1 1.1.1</H2>
<H3>Known problems</H3>

<UL>

<LI>
The syntactic construct <CODE>COMPONENTS OF</CODE> is not
implemented.
<br>Own Id: OTP-2515


<LI>
<CODE>ANY</CODE> and <CODE>ANY DEFINED BY</CODE> are currently not 
supported.
<br>Own Id: OTP-2741<br>
Aux Id: seq 1188


<LI>
Multiple definitions of the same Type or Value is not detected
by the compiler. The error occurs when the generated Erlang
module is compiled.
<br>Own Id: OTP-3105


</UL>
<H2>Asn1 1.1</H2>
<H3>Known problems</H3>

<UL>

<LI>
The primitive/constructed bit in the tag byte of an encoding
is not correct when it comes to user defined tags.
For example in <CODE> T ::= [2] SEQUENCE { a BOOLEAN} </CODE> 
the tag 2 does not get the constructed bit set which it should.
This is now corrected.
<br>Own Id: OTP-3241


</UL>
<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
The BER decoder failed to decode certain nested data types
where <CODE>IMPLICIT</CODE> tags where involved. 
This is now corrected.
<br>Own Id: OTP-2719<br>
Aux Id: seq 1148


<LI>
The handling of types with extension marker "..." is corrected.
Earlier each SEQUENCE and SET with an extension marker got an
extra field named <CODE>asn1_EXT</CODE> in the generated record.
This was a mistake and that field is now removed (conserns
both BER and BER).
<br>Own Id: OTP-2724<br>
Aux Id: seq 1148, OTP-2719


<LI>
The decoder (both BER and PER) could not handle unnamed
bits of a <CODE>BIT STRING</CODE> if the type had any 
named bits declared. This is now corrected and the unnamed
bits are returned as <CODE>{bit,Pos}</CODE> where Pos is the bit 
position. The <CODE>{bit,Pos}</CODE> can be used as input to the
encoder too.
<br>Own Id: OTP-2725<br>
Aux Id: seq 1148,OTP-2719,OTP-2724


<LI>
The functions <CODE>asn1rt:decode</CODE> and <CODE>asn1ct:decode</CODE>
did not always return <CODE>{ok,Result}</CODE> or 
<CODE>{error,Reason}</CODE> as documented. This is now corrected.
<br>Own Id: OTP-2730<br>
Aux Id: seq 1158


<LI>
The compiler did not accept CHOICE types as components 
of a SEQUENCE or SET when
the modules tag default was IMPLICIT. 
Example:<br>
<code>
C ::= CHOICE { ......}
A ::= SEQUENCE {
a [1] C, -- This was not accepted
.....
</code>		
This was an error
caused by a misinterpretation of the ASN.1 standard. This
is now corrected.
<br>Own Id: OTP-2731<br>
Aux Id: seq 1163


<LI>
When decoding a SEQUENCE A which contains an OPTIONAL component
b which is a SEQUENCE with mandatory components, the decoder
does not detect as an error that a mandatory component of b
is missing. The same error could occur also in other cases
with nested types and optional components of SEQUENCE or SET.
This is now corrected.
<br>Own Id: OTP-2738<br>
Aux Id: seq 1183


<LI>
BER Encoding and decoding of <CODE>ENUMERATED</CODE> 
with extensionmark
"..." did not work (crashed with a runtime error). This
has now been corrected. If an unknown enumerated value is
decoded (for an extensible enumerated type) 
it is returned as <CODE>{asn1_enum,Value}</CODE> where
<CODE>Value</CODE> is an integer. Enumerated values in this format
are also accepted by the encoder.  
ASN.1 modules containing 
<CODE>ENUMERATED</CODE> with extensionmark should be 
recompiled with the corrected
version of the compiler. The BER runtime functions are also
corrected.
<br>Own Id: OTP-2951<br>
Aux Id: Seq 1446 OTP-2929


<LI>
The compiler does now accept all valid value notations
for the OBJECT IDENTIFIER type. The generated code for
those values is also corrected.
<br>Own Id: OTP-3059


</UL>
<H3>Improvements and new features</H3>

<UL>

<LI>
The code generated for BER is significantly enhanced resulting
in less code and around 300% better performance in runtime 
for the encoding of complex ASN.1 values. The performance of
decoding is unchanged.
<br>Own Id: OTP-2806

</UL>

<H2>Asn1 1.0.3</H2>
<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
The <CODE>asn1.app</CODE> file is corrected.
<br>Own Id: OTP-2640


<LI>
The encoding of integers in BER did not comply with the
standard for all values. The values was not encoded
in the minimum number of octets as required. This is
now corrected in the runtime module <CODE>asn1rt_ber</CODE>.
<br>Own Id: OTP-2666


</UL>
<H3>Improvements and new features</H3>

<UL>

<LI>
The compiler now generates explicit exports directives for 
all generated
functions that should be exported (instead of -compile(export_all)). 
This eliminates the warnings from the Erlang compiler when 
compiling the 
generated file.
<br>Own Id: OTP-1845

</UL>


<H2>R3B02 (Asn1 1.0.2)</H2>
<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
The decoding of a BER encoded SEQUENCE with optional component
of type SEQUENCE (also with optional components) could result 
in an error or wrong result if the tags are equal.
<br>Own Id: OTP-2226


<LI>
The encoding of (PER) SEQUENCE with extensionmark was wrong.
This is now corrected.
<br>Own Id: OTP-2349


</UL>
<H2>R3A (Asn1 0.9)</H2>
<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
The asn1 compiler now detects the use of an implicit tag before <CODE>CHOICE</CODE> as an error (in accordance with the standard)
<br>Own Id: OTP-1844


<LI>
An OPTIONAL CHOICE embedded in SEQUENCE when BER coding
caused an error when generating decode code. This is now
corrected.
<br>Own Id: OTP-1857<br>
Aux Id: OTP-1848


</UL>

<A NAME="1"><!-- Empty --></A><H2>1 ASN1 0.8.1</H2><P>This is the first release of the ASN1 application. This version is released
for beta-testing. Some functionality will be added until the 1.0 version is
released. See the release notes for the latest version for the exact details about new features. A list of missing features and restrictions can be found in the
chapter below.

<A NAME="1.1"><!-- Empty --></A><H3>1.1 Missing features and other restrictions</H3><P><UL>
<LI> 
         The encoding rules BER and PER (aligned) is supported. <STRONG>PER (unaligned) 
         IS NOT SUPPORTED</STRONG>.
        <BR>
<LI> 
         NOT SUPPORTED types <CODE>ANY</CODE> and <CODE>ANY DEFINED BY</CODE> 
         (is not in the standard any more).
        <BR>
<LI> 
         NOT SUPPORTED types <CODE>EXTERNAL</CODE> and <CODE>EMBEDDED-PDV</CODE>. 
        <BR>
<LI> 
         NOT SUPPORTED type <CODE>REAL</CODE> (planned to be implemented). 
        <BR>
<LI> 
         The code generation support for value definitions in the ASN.1 notation is very limited
         (planned to be enhanced).
        <BR>
<LI>     The support for constraints is limited to:
         <BR>
<UL>
<LI>            SizeConstraint  SIZE(X)
         <BR>
<LI>            SingleValue     (1)
         <BR>
<LI>            ValueRange      (X..Y)
         <BR>
<LI>            PermittedAlpabet FROM (but not for BMPString and UniversalString when generating PER).
         <BR>
</UL>

         Complex expressions in constraints is not supported (planned to be extended).
        <BR>
<LI> 
         The current version of the compiler has very limited error checking:
         <BR>
<UL>
<LI>Stops at first syntax error.
         <BR>
<LI>Does not stop when a reference to an undefined type is found , 
                but prints an error message. Compilation of the generated 
                Erlang module will then fail.
         <BR>
<LI>A whole number of other semantical controls is currently missing. This
                means that the compiler will give little or bad help to detect what's wrong
                with an ASN.1 specification, but will mostly work very well when the
                ASN.1 specification is correct.
         <BR>
</UL>

        <LI> 
         The maximum INTEGER supported in this version is a signed 64 bit integer. This
         limitation is probably quite reasonable. (Planned to be extended).
        <BR>
<LI> 
         Only AUTOMATIC TAGS supported for PER.
        <BR>
<LI> 
         Only EXPLICIT and IMPLICIT TAGS supported for BER.
        <BR>
<LI> 
         The compiler supports decoding of BER-data with indefinite length but it is 
         not possible to produce data with indefinite length with the encoder. 
<BR>
</UL>
</BLOCKQUOTE>
<CENTER>
<HR>
<FONT SIZE=-1>
Copyright &copy; 1991-99
<A HREF="http://www.ericsson.se">Ericsson Utvecklings AB</A><BR>
<!--#include virtual="/ssi/otp_footer.html"-->
</FONT>
</CENTER>
</BODY>
</HTML>
