<HTML>
<HEAD>
  <TITLE>Asn1 Release Notes</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF">

<CENTER><H1>Asn1 Release Notes</H1></CENTER>

<H2>Asn1 1.2.6</H2>
<H3>Known problems</H3>

<UL>

<LI>
The ASN.1 language feature <CODE>COMPONENTS OF</CODE> is not implemented.
<br>Own Id: OTP-2515


<LI>
The compiler does not check that a value referenced by name does exist.
<br>Own Id: OTP-3277


<LI>
BER:In the current implementation extension components of a SEQUENCE are required
to be present when they are specified as mandatory. This is an error, all extension
components are "optional" even if they are not specified to have the OPTIONAL or
DEFAULT property.
<br>Own Id: OTP-3278


<LI>
BER: The compiler does not take the extensions into account when checking if
the tags are unique in a SEQUENCE or SET.
<br>Own Id: OTP-3304


</UL>

<H3>Fixed errors and malfunctions</H3>

<UL>
<LI>
This version supports soft upgrade from versions 1.1.1, 1.1.5 and 1.1.6.
Two new runtime modules <code>asn1rt_ber_v1</code> and 
<code>asn1rt_per_v1</code> are delivered together with the old ones. This makes
it possible to continue running applications with modules generated with the
previous version of the asn1 compiler while modules generated by this version
will use the new runtime modules. Note that it is only advice-able to continue
running old generates if they are working perfectly and have no need 
for the corrections made in this version of the asn1 application.


<LI>
BER: SEQUENCEs encoded with indefinite length was not correctly decoded.
		This in now corrected.
<br>Own Id: OTP-3352
<br>Aux Id: Seq 4100

</UL>

<H2>Asn1 1.2.4</H2>
<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
The compiler now  detects multiple definitions of values and types and reports this as
an error. Previously this was detected when the generated Erlang module was compiled.
<br>Own Id: OTP-3105


<LI>
BER: An error regarding encoding of <CODE>ENUMERATED</CODE> present in asn1-1.1.1 
is corrected. The new version 1.1.2 of asn1 containing this correction is 
delivered as a "patch".
<br>Own Id: OTP-3169


<LI>
BER: Decoding of <CODE>SEQUENCE OF</CODE> and <CODE>SET OF</CODE> with indefinite length is corrected.
The correction was first delivered in version 1.1.2.
<br>Own Id: OTP-3170


<LI>
BER: Encoding and decoding of <CODE>ENUMERATED</CODE> 
with extensionmark
"..." did not work (crashed with a runtime error). This
has now been corrected. If an unknown enumerated value is
decoded (for an extensible enumerated type) 
it is returned as <CODE>{asn1_enum,Value}</CODE> where
<CODE>Value</CODE> is an integer. Enumerated values in this format
are also accepted by the encoder.  
ASN.1 modules containing 
<CODE>ENUMERATED</CODE> with extensionmark should be 
recompiled with the corrected
version of the compiler. The BER runtime functions are also
corrected.
Note that this correction has already been delivered as a
bugfix for R4B (OTP-2951).
<br>Own Id: OTP-3202<br>
Aux Id: Seq3745


<LI>
BER: The primitive/constructed bit in the tag byte of an encoding
is not correct when it comes to user defined tags.
For example in <CODE> T ::= [2] SEQUENCE { a BOOLEAN} </CODE>
the tag 2 does not get the constructed bit set which it should.
This is now corrected.
<br>Own Id: OTP-3241


<LI>
The decoder can now detect if there are unexpected bytes 
remaining when all components of a sequence are decoded.
The decoder will then return <CODE>{error,{asn1{unexpected,Bytes}}}</CODE>
<br>Own Id: OTP-3270


<LI>
Values of type <CODE>OBJECT IDENTIFIER</CODE> was sometimes returned as an Erlang list
(ASN.1 constants) and  sometimes as a tuple (from the decode functions). This is now
changed so that <CODE>OBJECT IDENTIFIER</CODE> values always are represented as an Erlang
tuple.
<br>Own Id: OTP-3280


<LI>
PER:The encode/decode functions could not handle integers with 
a range greater than 16#7ffffff. This limit is now removed.
<br>Own Id: OTP-3287


<LI>
PER: The encoding/decoding of the length for a SET OF/SEQUENCE OF
was wrong if there was a size constraint. This is now corrected.
<br>Own Id: OTP-3291


<LI>
PER: Encoding of a constrained INTEGER (range > 16 k) was wrong for
the value 0. This is now corrected.
<br>Own Id: OTP-3306


</UL>
<H3>Improvements and new features</H3>

<UL>

<LI>
The ASN.1 module name and the filename where the ASN.1 specification resides must match each other (has always been the case). This is now checked by the compiler. The check requires that the names match in a case or case insensitive way depending on the characteristics for the current system.
<br>Own Id: OTP-1843


<LI>
PER: Encode/decode of an extension value (i.e not within the root set) for
<CODE>ENUMERATED</CODE> did not work properly. This is now corrected.
If an unknown enumerated value is
decoded (for an extensible enumerated type) 
it is returned as <CODE>{asn1_enum,Value}</CODE> where
<CODE>Value</CODE> is an integer. Enumerated values in this format
are also accepted by the encoder (if the value is >= the number of known 
extension values).
<br>Own Id: OTP-2930


<LI>
Unnecessary printouts from the compiler are removed.
The compiler version and the compiler options are now
printed to stdout.
<br>Own Id: OTP-3276


<LI>
In order to better suite the use of ASN.1 in embedded systems only 
the modules needed in runtime are now listed in the <CODE>.app</CODE> file.
<br>Own Id: OTP-3279


<LI>
The compiler now supports extensionmarker in constraint specifications.
Example: <CODE>INTEGER (0..10, ...)</CODE>
In previous version this was reported as a syntax error.
<br>Own Id: OTP-3281


<LI>
A very limited part of ITU-T recommendation X.681 
Abstract Syntax Notation One (ASN.1): Information
object specification is now implemented. Specifically 	
TYPE IDENTIFIER is reqognized by the compiler.
<br>Own Id: OTP-3325


<LI>
Parameterization of ASN.1 specifications (ITU-T X.683) is now
supported to a limited extent.
<br>Own Id: OTP-3326


</UL>
You can find release notes for older versions
<A HREF="notes_history.html">here</A>.

</body>
</html>






