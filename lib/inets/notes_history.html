<HTML>
<HEAD>
  <TITLE>Inets Release Notes</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF">

<CENTER><H2>Inets Release Notes</H2></CENTER>


<h2>Inets 2.5.4</h2>
 <h3>Improvements and new features</h3>
 <ul>
  <li>Support for choosing port number when opening FTP connection.<br>
   It is now possible to open a connection using a user specified port
   number.<br>
   Default is still 21.<br>
   Own Id: OTP-3751</li>
</ul>

<h3>Fixed errors and malfunctions</h3>

<ul>
<li>Wrong return value from FTP function recv_bin.
<br>The function actually returned: {ok,{ok,binary()}} instead of {ok,binary()}
<br>Own Id: OTP-3755
<br>Aux Id: Seq 4958

<li>The HTTP server hangs due to unhandled info:  {'EXIT',<0.12542.6>,badsig}
<br>Crash of the listener process for this reason not handled.
<br>Own Id: OTP-3793
<br>Aux Id: Seq 5020

</ul>

<h3>Known bugs and problems</h3>

<ul>
<li>ftp:open(Host,Port) does not work. Use ftp:open(Host,Port,[]) instead.
</ul>

<h2>Inets 2.5.3</h2>

<h3>Improvements and new features</h3>

<ul>
<li>It's now possible to perform runtime upgrade/downgrade</li>
<br>of the HTTPD server from/to 2.5.1.
<br>The upgrade/downgrade is rather crude: An application restart!
<li>Further improvment of handling of lack-of-resources situations.</li>
</ul>

<h3>Fixed errors and malfunctions</h3>

<ul>
<li>CGI related problem with executable files on win32.</li>
<br>A problem related to the win32 platform and cgi caused HTTPD to fail to 
<br>detect executable files if the file name (of the retrieved file) 
<br>contained a "executanle" extension (i.e. '.exe', '.com' or '.bat').
<br>Own Id: OTP-3627

<li>Heavy load state incorrect.</li>
<br>A special heavy load listener process was created when HTTPD reaches
<br>the heavy load state. The next request was be rejected, regardless of 
<br>the actual state at that time.
<br>Own Id: OTP-3528

</ul>

<h3>Known bugs and problems</h3>

<ul>
No known problems.
</ul>

<h2>
Inets 2.5.2</h2>

<h3>
Improvements and new features</h3>

<ul>
<li>
Now possible to run more then one HTTP server in a node listening
to the same port number but different addresses.</li>

<br>Own Id: OTP-3493</ul>

<h3>
Fixed errors and malfunctions</h3>

<ul>
<li>
Status code 404 incorrectly used instead of 500.</li>

<br>Own Id: OTP-3402
<li>
Handling of lack of resources (to many open files, ...) improved.</li>

<br>Own Id: OTP-3403, OTP-3461
<li>
Use of obsolete and not recommended functions removed.</li>

<br>Functions httpd_conf:is_directory/1 and httpd_conf:is_file/1 has changed
so that when they are called with a path which is not a directory (in the
first case) or file (in the second case) then the return value will be
<i>{error,FileInfo},</i>
where FileInfo is now a file_info record according to <i>kernel/include/file.hrl.</i>
<br>Own Id: OTP-3405
<li>
Call of non-existing function 'inet:getaddr/1' in httpd_conf:load/2 Corrected.</li>

<br>Own Id: OTP-3457
<li>
Call to non-existing module 'http_conf' in mod_auth:load/2. Corrected.</li>

<br>Own Id: OTP-3459
<li>
An error (module mod_include) in the parsing of SHTML files could cause 
the handling process to crash. The reason was the reading of files was 
done in chunks. If a directive or comment starts at the end of a chunk
but ends in the next chunk, this was taken as EOF and an exception was
thrown. This exception was not handled which caused the process to crash.</li>

<br>Own Id: OTP-3527
<li>
The FTP failure 'File system full' during file transfer is not handled properly.</li>

<br>Own Id: OTP-3268, OTP-3503</ul>

<h3>
Known bugs and problems</h3>

<ul>
<li>
It is not possible to perform runtime upgrade from older versions.
This is temporary and will be <i>fixed</i> in the next release</li>
</ul>

<h2>
Inets 2.5.1</h2>

<h3>
Improvements and new features</h3>

<ul>
<li>
New option added to httpd_core: BindAddress. BindAddress defines which
address the server will listen to.</li>

<br>Bugs reported since R5 has been fixed.
<br>Own Id: OTP-3295</ul>

<h2>
Inets 2.5</h2>

<h3>
Fixed errors and malfunctions</h3>

<ul>
<li>
Possible error codes from http_socket were not handled. Corrected.</li>

<br>Own Id: OTP-3214
<br>Aux Id: Seq 3752</ul>

<h3>
Improvements and new features</h3>

<ul>
<li>
Errors in the examples and documentation were corrected.</li>

<br>Own Id: OTP-3263
<br>Aux Id: seq 3921</ul>

<h2>
Inets 2.3</h2>

<h3>
Fixed errors and malfunctions</h3>

<ul>
<li>
ftp:open crashed if connection was closed before a complete welcome message
was received, this is now fixed.</li>

<br>Own Id: OTP-2723
<br>Aux Id: HA98434, seq 1151</ul>

<h3>
Improvements and new features</h3>

<ul>
<li>
The authentication modules have been rewritten with support for dets, plain
and mnesia authentication databases. There is also a new module called
'mod_secrity', which implements security event logging and notification.
Both the mod_auth and mod_security modules have an API for the programmer
that implements functions they will require to have full control over access
restricted parts of a site. NOTE: The mod_auth_mnesia module does not implement
the API previously found there, please see the mod_auth documentation.</li>

<br>Own Id: OTP-2281
<br>Aux Id: seq 740,OTP-2273
<li>
Support for the sockets application has been removed from INETS, use SocketType
ssl or ip_comm instead.</li>

<br>Own Id: OTP-2848
<li>
The HTTP server has got improved efficiency through recognition of the
'If-Modified-Since' header field.</li>

<br>Own Id: OTP-2870
<li>
CGI scripts are now supported on Windows aswell as UNIX platforms.</li>

<br>Own Id: OTP-2915
<li>
mod_auth now supports the 'deny from' directive.</li>

<br>Own Id: OTP-2982
<li>
The HTTP server now experimentaly supports persistent connections (as defined
in RFC2068). This is the first step towards HTTP/1.1 support. Enabling
this feature may greatly improve performance, as the server then uses the
same TCP connection for more than one HTTP request. Two new configuration
directives are defined for httpd_core: KeepAlive max-requests KeepAliveTimeout
seconds</li>

<br>Own Id: OTP-3032</ul>

<A NAME="1.1"><!-- Empty --></A><H3>1.1 INETS 2.2.5</H3><A NAME="1.1.1"><!-- Empty --></A><H4>1.1.1 Fixed Bugs and Malfunctions</H4><P><UL>
<LI>The server-side include parsing (<CODE>mod_include(3)</CODE>)
         no longer has problems with <STRONG>big</STRONG> HTML files. These
problems previously resulted in a memory intensive emulator
and lingering processes.
         <BR>
Own Id: OTP-2507<BR>

        <LI>HTTP-1.1 requests are now accepted; even though the
         server is HTTP-1.0 compliant. HTTP-1.1 uses the same external
         protocol as HTTP-1.0 anyway; as defined in RFC 1945.
         <BR>
Own Id: OTP-2679<BR>

</UL>
<A NAME="1.1.2"><!-- Empty --></A><H4>1.1.2 Known bugs and problems</H4><P><UL>
<LI>If a Web browser connect itself to an SSL enabled server
         using a URL <STRONG>not</STRONG> starting with <CODE>https://</CODE> the
         server will hang due to an ugly bug in the SSLeay package!<BR>

</UL>
<A NAME="1.2"><!-- Empty --></A><H3>1.2 INETS 2.2.2</H3><A NAME="1.2.1"><!-- Empty --></A><H4>1.2.1 Fixed Bugs and Malfunctions</H4><P><UL>
<LI>&#34;unknown&#34; is not always put into the remotehost field
         of access logs when the obsolote sockets type is used. The
         remotehost field is furthermore always a numerical IP
         address even if the new ip_comm socket type is used.
         <BR>
Own Id: OTP-2225, seq 682<BR>

        <LI>The server does a complete cleanup even though
         httpd:stop/1 wasn't used to terminate the server.
         <BR>
Own Id: OTP-2229<BR>

        <LI>The server now uses the new inet(3) distribution
         mechanism as default if the <CODE>SocketType</CODE> directive
         not is used in the server configuration, i.e. as stated in
         <CODE>httpd_core(3)</CODE>.
         <BR>
Own Id: OTP-2554<BR>

        <LI>The <CODE>ErrorLog</CODE> and <CODE>ErrorDiskLog</CODE>
         directives now handles absolute file paths on Windows
         NT/95. 
         <BR>
Own Id: OTP-2504, seq885<BR>

</UL>
<A NAME="1.2.2"><!-- Empty --></A><H4>1.2.2 Known bugs and problems</H4><P><UL>
<LI>If a Web browser connect itself to an SSL enabled server
         using a URL <STRONG>not</STRONG> starting with <CODE>https://</CODE> the
         server will hang due to an ugly bug in the SSLeay package!<BR>

</UL>
<A NAME="1.3"><!-- Empty --></A><H3>1.3 INETS 2.2.1.1</H3><A NAME="1.3.1"><!-- Empty --></A><H4>1.3.1 Fixed Bugs and Malfunctions</H4><P><UL>
<LI>TCP errors is now taken care of.
         <BR>
Own Id: OTP-2389<BR>

        <LI>Passwords are now encoded before storage in Mnesia.
         <BR>
Own Id: OTP-2278,seq737<BR>

        <LI>httpd_socket:peername problem solved.
         <BR>
Own Id: OTP-2225,seq682<BR>

        <LI>&#34;ErlScriptAlias all&#34; makes the server accept client
         access to <STRONG>all</STRONG> modules in the Erlang node.
         <BR>
Own Id: OTP-2285,seq743<BR>

</UL>
<A NAME="1.3.2"><!-- Empty --></A><H4>1.3.2 Known bugs and problems</H4><P><UL>
<LI>If a Web browser connect itself to an SSL enabled server
         using a URL <STRONG>not</STRONG> starting with <CODE>https://</CODE> the
         server will hang due to an ugly bug in the SSLeay package!<BR>

</UL>
<A NAME="1.4"><!-- Empty --></A><H3>1.4 INETS 2.2.1</H3><A NAME="1.4.1"><!-- Empty --></A><H4>1.4.1 Improvements and New Features</H4><P><UL>
<LI>The module mod_ecgi is now called mod_esi and the
         &#34;Module&#34; config directive has to be updated accordingly.<BR>

         (*** INCOMPATIBILITY with INETS 2.1 **)
        <BR>
<LI>The config directives &#34;ServerName&#34;, &#34;Port&#34;,
         &#34;ServerRoot&#34; and &#34;DocumentRoot&#34; are now mandatory.<BR>

         (*** INCOMPATIBILITY with INETS 2.1 **)
        <BR>
<LI>The default value for the config directive
         &#34;SocketType&#34; is &#34;ip_comm&#34; (Erlang's new communication
         mechanism) instead of the obsolete sockets dito.<BR>

         (*** INCOMPATIBILITY with INETS 2.1 **)
<BR>
</UL>
<A NAME="1.4.2"><!-- Empty --></A><H4>1.4.2 Fixed Bugs and Malfunctions</H4><P><UL>
<LI>The access log format now uses a correct date format.
         <BR>
Own Id: OTP-2068<BR>

        <LI>ftp:open/2 no longer hangs indefinitely.
         <BR>
Own Id: OTP-2041, seq526<BR>

</UL>
<A NAME="1.4.3"><!-- Empty --></A><H4>1.4.3 Known bugs and problems</H4><P><UL>
<LI>If a Web browser connect itself to an SSL enabled server
         using a URL <STRONG>not</STRONG> starting with <CODE>https://</CODE> the
         server will hang due to an ugly bug in the SSLeay package!<BR>

</UL>
<A NAME="1.5"><!-- Empty --></A><H3>1.5 INETS 2.2</H3><A NAME="1.5.1"><!-- Empty --></A><H4>1.5.1 Improvements and New Features</H4><P><UL>
<LI>     The server documentation has been thoroughly reviewed
         and enhanced. The documentation has been grouped into 18
         manual pages and the Erlang Web Server API (EWSAPI) is
         described in detail.<BR>

         Own Id: OTP-1439<BR>

        <LI>Mnesia based management of authentication data is now
         supported. It is now possible to on-the-fly manage user and
         group information to be used for authentication. (Read
         more about this in the EWSAPI module <CODE>mod_auth_mnesia</CODE>
         description).<BR>

         Own Id: OTP-1591<BR>

         Own Id: OTP-1491<BR>

        <LI>An alternative mechanism for storage of log
         information is no supported. This mechanism uses
         <CODE>disk_log(3)</CODE> to enable the use of wrap logs
         etc. (Read more about this in the EWSAPI module 
         <CODE>mod_disk_log</CODE> description).<BR>

         Own Id: OTP-1491<BR>

        <LI>A new config directive <CODE>SocketType</CODE> has been added
         making it possible to specify which communication
         mechanism to use, i.e. <CODE>ip_comm</CODE>, <CODE>sockets</CODE> or
         <CODE>ssl</CODE>. <CODE>ip_comm</CODE> is the default choice if nothing
         is specified in the server config file. (Read more about
         <CODE>SocketType</CODE> in <CODE>httpd_core(3)</CODE>.<BR>
 
         Own Id: OTP-1600<BR>

        <LI>A new mandatory config directive <CODE>ServerName</CODE>
         has been added telling the server about its actual host
         name. <CODE>ServerName</CODE> must be specified for the server
         to start. (Read more about
         <CODE>ServerName</CODE> in <CODE>httpd_core(3)</CODE>.<BR>

        <LI>Server-Side Includes is now supported. (Read more about
         this in the EWSAPI module <CODE>mod_include</CODE> description). 
        <BR>
<LI>Filetype/method-based script execution is now
         supported (Read more about this in the EWSAPI module
         <CODE>mod_actions</CODE> description).<BR>

        <LI>Basic directory indexing is now supported (Read more
         about this in the EWSAPI module <CODE>mod_dir</CODE> description).<BR>

        <LI>The <CODE>ftp</CODE> client has been extended with a set of new
        functions: <CODE>delete/2</CODE>, <CODE>recv_bin</CODE>, <CODE>rename</CODE>, 
        <CODE>rmdir</CODE>, <CODE>send_bin</CODE>, and functions for sending file
        chunks.<BR>

        Own Id: OTP-1724, OTP-1803
<BR>
</UL>
<A NAME="1.5.2"><!-- Empty --></A><H4>1.5.2 Fixed Bugs and Malfunctions</H4><P><UL>
<LI>It is now possible to start a server using <CODE>erl</CODE>
         command's <CODE>-s</CODE> option.<BR>

         Own Id: OTP-1444<BR>

        <LI>Erlang CGI-scripts now correctly handles %3A character
         sequences in the CGI <CODE>QUERY_STRING</CODE><BR>

         Own Id: OTP-1459<BR>

         Aux Id: HA54106<BR>

        <LI>The <CODE>ftp</CODE> client now correctly receives a file in 
        the current directory of the client<BR>

         Own Id: OTP-1809<BR>

        <LI>The <CODE>ftp</CODE> client is now linked to the owner.
        <BR>
Own Id: OTP-1802<BR>

</UL>
<A NAME="1.5.3"><!-- Empty --></A><H4>1.5.3 Known bugs and problems</H4><P><UL>
<LI>If a Web browser connect itself to an SSL enabled server
         using a URL <STRONG>not</STRONG> starting with <CODE>https://</CODE> the
         server will hang due to an ugly bug in the SSLeay package!<BR>

</UL>
<A NAME="1.6"><!-- Empty --></A><H3>1.6 INETS 2.1</H3><A NAME="1.6.1"><!-- Empty --></A><H4>1.6.1 Improvements and New Features</H4><P>Secure Sockets Layer (SSL) is now supported. Read more about
        SSL in the OTP SSL application. 

<P><UL>
<LI>Erlang CGI-scripts now correctly handles colons (:)
in the <CODE>QUERY_STRING</CODE><BR>

         Own Id: OTP-1444<BR>

        <LI>httpd beam start-up configuration problems solved.<BR>

         Own Id: OTP-1467<BR>

         Aux Id: HA54102<BR>

</UL>
<A NAME="1.6.2"><!-- Empty --></A><H4>1.6.2 Known bugs and problems</H4><P><UL>
<LI>It is currently not possible to start a server using
erl command's <CODE>-s</CODE> option! 
        <BR>
<LI>If a Web browser connect itself to an SSL enabled server
         using a URL <STRONG>not</STRONG> starting with <CODE>https://</CODE> the
         server will hang due to an ugly bug in the SSLeay package!
        <BR>
<LI>That the ftp client did not check for eof in a file
        read, has been corrected.<BR>

        Own Id: OTP-1572
<BR>
</UL>
<A NAME="1.7"><!-- Empty --></A><H3>1.7 INETS 2.0</H3><A NAME="1.7.1"><!-- Empty --></A><H4>1.7.1 Improvements and New Features</H4><P>The Web server has been totally redesigned and now
        supports the <STRONG>Erlang Scripting Interface</STRONG> (ESI),
        <STRONG>CGI-1.1</STRONG>, <STRONG>User Authentication</STRONG>, <STRONG>Common Log
        Format</STRONG> , <STRONG>URL Aliasing</STRONG>, <STRONG>Mime Type
        Settings</STRONG>, <STRONG>Erlang Web Server API</STRONG> (EWSAPI) and
        <STRONG>External Config Files</STRONG> (Apache style) etc.
<A NAME="1.7.2"><!-- Empty --></A><H4>1.7.2 Known bugs and problems</H4><P>It seems that there is a problem starting the server using
        the <CODE>erl</CODE> command's <CODE>-s</CODE> option!
<A NAME="1.8"><!-- Empty --></A><H3>1.8 INETS 1.0.2</H3><A NAME="1.8.1"><!-- Empty --></A><H4>1.8.1 Fixed Bugs and Malfunctions</H4><P><UL>
<LI>A file with a <CODE>.js</CODE> file suffix is now mime
        stamped with <CODE>application/x-javascript</CODE> (Ticket: OTP-1221).
        <LI>Output produced by an Erlang CGI script is now parsed
        before delivery, i.e. a valid response status code is generated,
        e.g. <CODE>Location: http://www.yahoo.com\n\n</CODE> generates the
        status code 302 to inform the client of the redirect declared
        in the <CODE>Location:</CODE> field (Ticket: OTP-1227).         
</UL>
<A NAME="1.9"><!-- Empty --></A><H3>1.9 INETS 1.0.1</H3><A NAME="1.9.1"><!-- Empty --></A><H4>1.9.1 Improvements and New Features</H4><P><UL>
<LI>Addition of <CODE>httpd:parse_query/1</CODE> which parses input
         to <STRONG>eval</STRONG> and <STRONG>erl</STRONG> scripts.
         
<LI>Examples in <CODE>httpd_example</CODE> + documentation has been
         updated and no longer use <CODE>flatten</CODE> and <CODE>++</CODE> as
         extensively. Cause: It is OK to return nested lists to a
         port, <CODE>term_to_binary/1</CODE> and <CODE>size/1</CODE>.
         
<LI>It is now OK to use &#34;/&#34; instead of &#34;:&#34; in <STRONG>eval</STRONG> and
         <STRONG>erl</STRONG> scripts as <CODE>module:function</CODE> separator.
</UL>
<A NAME="1.9.2"><!-- Empty --></A><H4>1.9.2 Fixed Bugs and Malfunctions</H4><P><UL>
<LI>Manually started HTTP servers (<CODE>start/6</CODE>) no longer
         linked to the eshell (gosh!).<LI>Data transfer is now gracefully stopped if a HTTP
         client aborts a HTTP request.<LI>Input to <STRONG>erl</STRONG> and <STRONG>eval</STRONG> script no
         longer gets automatically (and wrongly) converted (+ made
         into space and %xx made into the appropriate
         character). Use the new <CODE>parse_query</CODE> function
         instead.</UL>

<H3>1.10 INETS 1.0</H3>
<P>New application.

</BODY>
</HTML>
