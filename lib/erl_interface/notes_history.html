<HTML>
<HEAD>
<TITLE>Erl_Interface Release Notes</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<CENTER><H1>Erl_Interface Release Notes</H1></CENTER>
<BLOCKQUOTE>
<P>These document describes the release notes for older versions of
the Erl_Interface application.

<H2>Erl_interface 3.2</H2>
<H3>Improvements and new features</H3>

<UL>

<LI>
The reference type has been extended from 18 bits to
82 bits. For compatibility with older nodes, an R6 node
can send a ref to an older node; if the older node sends
it back, it has lost all but its 18 least significant
bits, but still compares equal to the original ref.
The external format has been extended to represent the new
longer refs; that means for example that binaries with
refs, produced on an R6 node, cannot be converted to a term
on an older node.
In <CODE>erl_interface</CODE>, a function <CODE>erl_mk_long_ref</CODE>
has been added, and macros <CODE>ERL_REF_NUMBERS</CODE> and
<CODE>ERL_REF_LEN</CODE>.
<br>(*** POTENTIAL INCOMPATIBILITY ***)
<br>Own Id: OTP-3140<br>
Aux Id: OTP-3139


<LI>
The function <CODE>erl_receive_msg</CODE> has the problem that
a fixed buffer must be given - a larger message than
expected is simply discarded. A function
<CODE>erl_xreceive_msg</CODE> has been introduced, which
dynamically resizes the buffer given to it, if needed.
<br>Own Id: OTP-3313<br>
Aux Id: OTP-2927


</UL>


<H2>Erl_interface 3.1.1</H2>
<H3>Improvements and new features</H3>

<UL>

<LI>
<CODE>#ifdef __cplusplus extern C {</CODE> is added to all the 
<CODE>erl*.h</CODE> and <CODE>ei*.h</CODE> files in order to support 
use from C++.<br>
On Unix the object files are now produced with the <CODE>-fPIC</CODE>
option to make it possible to include them in a shared library.
<br>Own Id: OTP-3138<br>
Aux Id: Seq 1722


</UL>
<H2>Erl_interface 3.1</H2>
<H3>Fixed errors and malfunctions</H3>

<UL>

<LI>
A buffer overflow in erl_connect() was causing C-node crashes on Linux.
<br>Own Id: OTP-2743


<LI>
When decoding very long strings (more than 65535 characters) the terminating 0 was left out.
<br>Own Id: OTP-2744


<LI>
erl_accept() was not handshaking properly with Erlang, causing incoming connection attempts to fail.
<br>Own Id: OTP-2862


<LI>
Very large negative numbers are no longer encoded incorrectly.
<br>Own Id: OTP-2897


<LI>
Atoms could sometimes contain an unterminated string. This is fixed.
<br>Own Id: OTP-2956


<LI>
Erl_interface now uses the SENS resolver functions if they are available at runtime. 
This primarily concerns use on the VxWorks platform.
<br>Own Id: OTP-3034<br>
Aux Id: Seq 1559


<LI>
The documentation for erl_connect_init() no longer makes erroneous reference to the remote node.
<br>Own Id: OTP-3102<br>
Aux Id: Seq 1671


</UL>
<H3>Improvements and new features</H3>

<UL>

<LI>
Erl_interface has been moved out of the Erlang runtime
system (Erts) and is now a separate application. This has
implications for all users of Erl_interface, who will need to
make changes to the Makefiles used to build applications based
on Erl_interface. In particular, header and library files are
no longer in $(OTPROOT)/usr/. The include and lib directories
are now located in the directory $(OTPROOT)/lib/erl_interface-3.1 (i.e.
the directory name is now version specific).
<br>Own Id: OTP-3082


</UL>

</BLOCKQUOTE>
<CENTER>
<HR>
<FONT SIZE=-1>
Copyright &copy; 1991-99
<A HREF="http://www.ericsson.se">Ericsson Utvecklings AB</A><BR>
<!--#include virtual="/ssi/otp_footer.html"-->
</FONT>
</CENTER>
</BODY>
</HTML>
